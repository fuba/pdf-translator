# PDF自動翻訳ソフトウェア 開発スケジュール

## 概要
総開発期間: 約12週間（3ヶ月）
開始日: 2025年1月13日（月）
完了予定日: 2025年4月4日（金）

## 現在の進捗状況
**現在日**: 2025年6月12日  
**進捗率**: 50% (6/12週完了)  
**ステータス**: ✅ Week 1-6完了 - レイアウト解析モジュール実装済み

### 完了済み作業
- ✅ Python開発環境 (uv + 120パッケージ)
- ✅ プロジェクト構造 (6モジュール構成)
- ✅ Ollama + Gemma3:12b 動作確認
- ✅ 設定ファイル・開発ツール整備
- ✅ ドキュメント・作業記録作成
- ✅ PDF処理基盤 (PyMuPDF統合、テキスト抽出)
- ✅ 単体テストフレームワーク (pytest、17テストケース)
- ✅ 翻訳機能 (Ollama/OpenAI連携、設定ベースエンジン切り替え)
- ✅ 専門用語抽出機能 (spaCy + Wikipedia API連携)
- ✅ ポストプロセッサ (「訳語（原語）」注釈、スペーシング調整)
- ✅ レイアウト解析モジュール (LayoutLM/DiT基盤、段組み・領域検出)
- ✅ 80+テストケースによる包括的品質保証

## フェーズ別スケジュール

### フェーズ1: 基盤構築（2週間）
**期間**: 2025/1/13 - 2025/1/24

#### Week 1 (1/13-1/17) ✅ **完了**
- [x] 開発環境構築
  - [x] Python環境セットアップ (uv使用)
  - [x] Ollama インストール・動作確認
  - [x] Gemma 3:12b モデルの動作確認
- [x] プロジェクト構造作成
  - [x] モジュール構成の実装 (6モジュール)
  - [x] 設定ファイル (config.yml) の実装
  - [x] 基本ツール整備 (Makefile, ラッパースクリプト)
  
**実績**: 
- 120パッケージのインストール完了
- spaCy日本語モデル導入
- 環境テスト4項目すべてクリア
- 作業記録・知見をドキュメント化

#### Week 2 (1/20-1/24) ✅ **完了**
- [x] PDF処理基盤 ✅
  - [x] PyMuPDF によるテキスト抽出機能
  - [x] 基本的なページ・段落構造の解析
- [x] 単体テストフレームワーク構築 ✅
  - [x] pytest環境のセットアップ
  - [x] extractorモジュールの単体テスト作成（17ケース）
  
**実績**: 
- PDFExtractorクラス実装完了
- TextBlock/PageInfoデータクラス実装
- レイアウト解析基本機能実装
- サンプルPDF作成（日英混在対応）

### フェーズ2: コア機能開発（4週間）
**期間**: 2025/1/27 - 2025/2/21

#### Week 3 (1/27-1/31) ✅ **完了**
- [x] 翻訳機能実装 ✅
  - [x] TranslatorConfigクラス: 設定管理機能
  - [x] BaseTranslatorクラス: 翻訳インターフェースの基底
  - [x] OllamaTranslatorクラス: Ollama API連携
  - [x] OpenAITranslatorクラス: OpenAI API連携
  - [x] TranslatorFactoryクラス: エンジン切り替え機能
- [x] 翻訳モジュールテスト ✅
  - [x] 16個の単体テストケース作成
  - [x] Ollama Gemma3:12Bでの動作確認

#### Week 4 (2/3-2/7) ✅ **完了**
- [x] 専門用語抽出モジュール ✅
  - [x] TermMinerConfigクラス: 設定管理機能
  - [x] Termクラス: 専門用語データ構造
  - [x] TermMinerクラス: spaCyによる高精度用語抽出
  - [x] WikipediaLookupクラス: Wikipedia API連携
  - [x] フォールバック機能 (spaCy未インストール時)
  - [x] 15テストケース実装（全パス）

#### Week 5 (2/10-2/14) ✅ **完了**
- [x] ポストプロセッサ実装 ✅
  - [x] PostProcessorConfigクラス: 後処理設定管理
  - [x] PostProcessorクラス: 翻訳後整形機能
  - [x] TermAnnotationクラス: 用語注釈機能
  - [x] 「訳語（原語）」形式での専門用語注釈
  - [x] 初回出現時のみ注釈（重複回避）
  - [x] 日英混在テキストのスペーシング調整
  - [x] 19テストケース実装（全パス）
- [x] 統合動作確認 ✅
  - [x] PDF抽出→用語抽出→翻訳→後処理のパイプライン
  - [x] 実際のPDFファイルでの動作検証

#### Week 6 (2/17-2/21) ✅ **完了**
- [x] レイアウト解析モジュール ✅
  - [x] LayoutLM/DiT 統合基盤構築
  - [x] 段組み・表・図領域の検出機能
  - [x] RegionType分類システム（title, paragraph, list, table, figure等）
  - [x] ルールベース分類アルゴリズム実装
  - [x] 19テストケース実装（全パス）
- [ ] OCR機能実装
  - PaddleOCR の統合
  - 画像PDFからのテキスト抽出
  - OCR精度の検証・調整

**実績**:
- LayoutAnalyzerクラス・設定クラス実装完了
- 段組み検出、領域分類（タイトル・段落・リスト・ヘッダー・フッター）
- 将来のLayoutLMv3/DiT統合に対応した拡張可能な設計

### フェーズ3: 高度な機能実装（3週間）
**期間**: 2025/2/24 - 2025/3/14

#### Week 7-8 (2/24-3/7)
- [ ] レンダリングモジュール
  - Markdown 出力機能
  - HTML 出力機能
  - スタイルシート対応
  - レイアウト保持機能
- [ ] パイプライン統合・最適化
  - ページ単位処理の最適化
  - メモリ使用量の最適化

#### Week 9 (3/10-3/14)
- [ ] OpenAI API 対応
  - フォールバック機能の実装
  - API切り替え機能
- [ ] バッチ処理機能
  - 複数PDF の一括処理
  - 進捗表示機能

### フェーズ4: 統合・最適化（2週間）
**期間**: 2025/3/17 - 2025/3/28

#### Week 10-11 (3/17-3/28)
- [ ] システム統合テスト
  - エンドツーエンドテスト
  - 各種PDFフォーマットでの検証
  - パフォーマンステスト
- [ ] 最適化
  - メモリ使用量の最適化
  - 処理速度の改善
  - エラーハンドリングの強化

### フェーズ5: 仕上げ・リリース準備（1週間）
**期間**: 2025/3/31 - 2025/4/4

#### Week 12 (3/31-4/4)
- [ ] ドキュメント作成
  - ユーザーマニュアル
  - API ドキュメント
  - インストールガイド
- [ ] デプロイメント準備
  - Docker イメージ作成
  - リリースパッケージ作成
  - サンプルPDF・設定ファイルの準備

## マイルストーン

| 日付 | マイルストーン | 成果物 |
|------|--------------|--------|
| 2025/1/24 | 基盤構築完了 | PDF読み込み・基本構造解析が動作 ✅ |
| 2025/1/31 | 翻訳機能完了 | Ollama/OpenAI連携翻訳が動作 ✅ |
| 2025/2/14 | 専門用語・ポストプロセッサ完了 | 実用的翻訳パイプラインが動作 ✅ |
| 2025/2/21 | レイアウト解析完了 | 文書構造解析によるレイアウト保持翻訳が可能 ✅ |
| 2025/3/14 | 全機能実装完了 | レイアウト保持翻訳が完成 |
| 2025/3/28 | テスト・最適化完了 | 本番環境で使用可能な品質 |
| 2025/4/4 | リリース | v1.0.0 リリース |

## リスク要因と対策

### 技術的リスク
1. **OCR精度の問題**
   - 対策: 複数のOCRエンジンの評価・切り替え機能
   
2. **レイアウト解析の複雑性**
   - 対策: 段階的な実装（単純→複雑なレイアウト）

3. **LLMの翻訳品質**
   - 対策: プロンプトの継続的改善、複数モデルの評価

### スケジュールリスク
1. **LayoutLM/DiT の学習曲線**
   - 対策: 早期にプロトタイプ作成、必要に応じて簡略化

2. **統合テストでの問題発覚**
   - 対策: 継続的インテグレーション、早期テスト

## 成功指標

- [ ] 50ページのPDFを5分以内で翻訳完了
- [ ] レイアウト保持率 90%以上
- [ ] 専門用語の正確な抽出・翻訳 85%以上
- [ ] メモリ使用量 4GB以下
- [ ] ユーザーテストでの満足度 80%以上